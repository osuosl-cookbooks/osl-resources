-- This file was generated by Chef Infra
-- Do NOT modify this file by hand.
<% @listen_addresses.each do |address| -%>
addLocal("<%= address %>")
<% end -%>
<% unless @acls.nil? -%>
setACLFromFile("/etc/dnsdist/acl-<%= @instance_name %>")
<% end -%>
<% @servers.each do |_s, options| -%>
newServer({<%= options %>})
<% end -%>
<% unless @netmask_groups == '' -%>
<%= @netmask_groups %>
<% end -%>
setServerPolicy(<%= @server_policy %>)
<% if @webserver_password -%>
webserver('<%= @webserver_address %>', '<%= @webserver_password %>')
setWebserverConfig({statsRequireAuthentication=false, acl='<%= @webserver_acl %>'})
<% end -%>
<% if @console_key -%>
controlSocket('<%= @console_address %>')
setKey("<%= @console_key %>")
<% end -%>
<% if @extra_options -%>
-- Extra options
<%= @extra_options.join("\n") %>
<% end -%>
